<div data-controller="carousel"
     data-carousel-interval-value="5000"
     class="relative bg-white rounded-2xl shadow-lg overflow-hidden">

  <!-- Container das imagens -->
  <div class="relative h-80 overflow-hidden">
    <% if property.photos.any? %>
      <% property.photos.each_with_index do |photo, i| %>
        <%= image_tag url_for(photo.image),
            class: "absolute inset-0 w-full h-80 object-cover transition-opacity duration-500 opacity-0 z-0",
            data: { carousel_target: "image" } %>
      <% end %>
    <% else %>
      <div class="flex items-center justify-center h-80 bg-gray-100 text-gray-500">
        No photos available
      </div>
    <% end %>
  </div>

  <!-- Controles -->
  <button type="button"
          data-action="click->carousel#prev"
          class="absolute top-1/2 left-2 -translate-y-1/2 bg-white/70 rounded-full px-2 py-1">
    ‹
  </button>

  <button type="button"
          data-action="click->carousel#next"
          class="absolute top-1/2 right-2 -translate-y-1/2 bg-white/70 rounded-full px-2 py-1">
    ›
  </button>

  <!-- Indicadores -->
  <% if property.photos.any? %>
    <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2">
      <% property.photos.each_with_index do |_, i| %>
        <span data-carousel-target="indicator"
              class="w-3 h-3 rounded-full bg-gray-300 opacity-0"></span>
      <% end %>
    </div>
  <% end %>
</div>
